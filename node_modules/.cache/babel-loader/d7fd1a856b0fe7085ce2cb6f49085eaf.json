{"ast":null,"code":"import _toConsumableArray from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/chof/Projects/transformers/src/App.js\";\nimport React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\nimport OverviewPage from './pages/OverviewPage.js';\nimport AddNewPage from './pages/AddNewPage.js';\nimport EditPage from './pages/EditPage.js';\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      isLoaded: false,\n      error: null,\n      factions: [],\n      vehicleTypes: [],\n      transformers: []\n    };\n\n    _this.updateTransformersList = function (updatedTransformers) {\n      _this.setState({\n        transformers: _toConsumableArray(updatedTransformers)\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      // Fetch data from JSON server\n      fetch('https://my-json-server.typicode.com/fpiskur/transformers-api/db').then(function (res) {\n        if (res.ok) {\n          return res.json();\n        } else {\n          throw new Error(\"Error: Server communication failed. Response not 'OK'.\");\n        }\n      }).then(function (json) {\n        _this2.setState({\n          isLoaded: true,\n          factions: json.factions,\n          vehicleTypes: json.vehicleTypes,\n          transformers: json.transformers\n        });\n      }).catch(function (error) {\n        return _this2.setState({\n          error: error\n        });\n      });\n    } // Update transformers state sent from AddNewPage or EditPage\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$state = this.state,\n          isLoaded = _this$state.isLoaded,\n          error = _this$state.error,\n          factions = _this$state.factions,\n          vehicleTypes = _this$state.vehicleTypes,\n          transformers = _this$state.transformers;\n\n      if (error) {\n        return React.createElement(\"p\", {\n          className: \"alert alert-danger\",\n          role: \"alert\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, error.message);\n      }\n\n      if (!isLoaded) {\n        return React.createElement(\"div\", {\n          className: \"text-center\",\n          style: {\n            marginTop: 'calc(100vh / 2 - 3em)'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, \"Loading...\");\n      } else {\n        return React.createElement(Router, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 56\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"py-4\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(Route, {\n          exact: true,\n          path: \"/\",\n          render: function render(props) {\n            return React.createElement(OverviewPage, Object.assign({}, props, {\n              factions: factions,\n              transformers: transformers,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 59\n              },\n              __self: this\n            }));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }), React.createElement(Route, {\n          exact: true,\n          path: \"/add-new\",\n          render: function render(props) {\n            return React.createElement(AddNewPage, Object.assign({}, props, {\n              factions: factions,\n              vehicleTypes: vehicleTypes,\n              transformers: transformers,\n              updateTransformersList: _this3.updateTransformersList,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 65\n              },\n              __self: this\n            }));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }), React.createElement(Route, {\n          exact: true,\n          path: \"/edit/:id\",\n          render: function render(props) {\n            return React.createElement(EditPage, Object.assign({}, props, {\n              factions: factions,\n              transformers: transformers,\n              vehicleTypes: vehicleTypes,\n              updateTransformersList: _this3.updateTransformersList,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 73\n              },\n              __self: this\n            }));\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 72\n          },\n          __self: this\n        })));\n      }\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/home/chof/Projects/transformers/src/App.js"],"names":["React","Component","BrowserRouter","Router","Route","OverviewPage","AddNewPage","EditPage","App","state","isLoaded","error","factions","vehicleTypes","transformers","updateTransformersList","updatedTransformers","setState","fetch","then","res","ok","json","Error","catch","message","marginTop","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { BrowserRouter as Router, Route } from 'react-router-dom';\n\nimport OverviewPage from './pages/OverviewPage.js';\nimport AddNewPage from './pages/AddNewPage.js';\nimport EditPage from './pages/EditPage.js';\n\nclass App extends Component {\n\n  state = {\n    isLoaded: false,\n    error: null,\n    factions: [],\n    vehicleTypes: [],\n    transformers: []\n  }\n\n  componentDidMount() {\n    // Fetch data from JSON server\n    fetch('https://my-json-server.typicode.com/fpiskur/transformers-api/db')\n      .then(res =>  {\n        if (res.ok) {\n          return res.json();\n        } else {\n          throw new Error(\"Error: Server communication failed. Response not 'OK'.\");\n        } \n      })\n      .then(json => {\n        this.setState({\n          isLoaded: true,\n          factions: json.factions,\n          vehicleTypes: json.vehicleTypes,\n          transformers: json.transformers\n        })\n      })\n      .catch(error => this.setState({ error: error }));\n  }\n\n  // Update transformers state sent from AddNewPage or EditPage\n  updateTransformersList = (updatedTransformers) => {\n    this.setState({ transformers: [...updatedTransformers] });\n  }\n\n  render() {\n    \n    let {isLoaded, error, factions, vehicleTypes, transformers} = this.state;\n\n    if (error) {\n      return <p className=\"alert alert-danger\" role=\"alert\">{error.message}</p>;\n    }\n\n    if(!isLoaded) {\n      return <div className=\"text-center\" style={{ marginTop: 'calc(100vh / 2 - 3em)' }}>Loading...</div>\n    } else {\n      return (\n        <Router>\n          <div className=\"py-4\">\n            <Route exact path=\"/\" render={(props) => (\n              <OverviewPage {...props}\n                factions={factions}\n                transformers={transformers}\n              />\n            )} />\n            <Route exact path=\"/add-new\" render={(props) => (\n              <AddNewPage {...props}\n                factions={factions}\n                vehicleTypes={vehicleTypes}\n                transformers={transformers}\n                updateTransformersList={this.updateTransformersList}\n              />\n            )} />\n            <Route exact path=\"/edit/:id\" render={(props) => (\n              <EditPage {...props}\n                factions={factions}\n                transformers={transformers}\n                vehicleTypes={vehicleTypes}\n                updateTransformersList={this.updateTransformersList}\n              />\n            )} />\n          </div>\n        </Router>\n      );\n    }\n  }\n\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}