{"ast":null,"code":"import _toConsumableArray from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/chof/Projects/transformers/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/chof/Projects/transformers/src/pages/OverviewPage.js\";\nimport React, { Component } from 'react';\nimport TopBar from '../components/TopBar.js';\nimport TransformersListItems from '../components/TransformersListItems.js';\n\nvar OverviewPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(OverviewPage, _Component);\n\n  function OverviewPage() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, OverviewPage);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(OverviewPage)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      transformers: _this.props.transformers,\n      notFound: false\n    };\n\n    _this.filterList = function (faction) {\n      var outputList = _this.props.transformers.filter(function (transformer) {\n        return transformer.faction === faction;\n      });\n\n      if (outputList[0]) {\n        _this.setState({\n          transformers: _toConsumableArray(outputList)\n        });\n      } else {\n        _this.setState({\n          transformers: _toConsumableArray(_this.props.transformers)\n        });\n      }\n    };\n\n    _this.handleSearch = function (searchTerm) {\n      var outputList = _this.props.transformers.filter(function (transformer) {\n        return transformer.name.toLowerCase().startsWith(searchTerm.toLowerCase());\n      });\n\n      if (outputList[0]) {\n        // result exists\n        _this.setState({\n          transformers: _toConsumableArray(outputList),\n          notFound: false\n        });\n      } else if (!outputList[0] && !searchTerm) {\n        // empty search field\n        _this.setState({\n          transformers: _toConsumableArray(_this.props.transformers),\n          notFound: false\n        });\n      } else {\n        // not found\n        _this.setState({\n          notFound: true\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(OverviewPage, [{\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(props) {\n      // deprecated!\n      // Update state.transformers when getting updated props from Route in App.js\n      this.setState({\n        transformers: _toConsumableArray(props.transformers)\n      });\n    } // Filter the list of transformers according to choosen faction and update state.transformers\n\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, \"Transformers Overview\"), React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }), React.createElement(TopBar, {\n        factions: this.props.factions,\n        filterList: this.filterList,\n        handleSearch: this.handleSearch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }), React.createElement(\"hr\", {\n        className: \"mb-0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }), React.createElement(TransformersListItems, {\n        transformers: this.state.transformers,\n        updateStatus: this.updateStatus,\n        notFound: this.state.notFound,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return OverviewPage;\n}(Component);\n\nexport default OverviewPage;","map":{"version":3,"sources":["/home/chof/Projects/transformers/src/pages/OverviewPage.js"],"names":["React","Component","TopBar","TransformersListItems","OverviewPage","state","transformers","props","notFound","filterList","faction","outputList","filter","transformer","setState","handleSearch","searchTerm","name","toLowerCase","startsWith","factions","updateStatus"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,qBAAP,MAAkC,wCAAlC;;IAEMC,Y;;;;;;;;;;;;;;;;;UAEJC,K,GAAQ;AACNC,MAAAA,YAAY,EAAE,MAAKC,KAAL,CAAWD,YADnB;AAENE,MAAAA,QAAQ,EAAE;AAFJ,K;;UAWRC,U,GAAa,UAACC,OAAD,EAAa;AACxB,UAAIC,UAAU,GAAG,MAAKJ,KAAL,CAAWD,YAAX,CAAwBM,MAAxB,CAA+B,UAAAC,WAAW;AAAA,eAAIA,WAAW,CAACH,OAAZ,KAAwBA,OAA5B;AAAA,OAA1C,CAAjB;;AACA,UAAGC,UAAU,CAAC,CAAD,CAAb,EAAkB;AAChB,cAAKG,QAAL,CAAc;AAAER,UAAAA,YAAY,qBAAMK,UAAN;AAAd,SAAd;AACD,OAFD,MAEO;AACL,cAAKG,QAAL,CAAc;AAAER,UAAAA,YAAY,qBAAM,MAAKC,KAAL,CAAWD,YAAjB;AAAd,SAAd;AACD;AACF,K;;UAGDS,Y,GAAe,UAACC,UAAD,EAAgB;AAC7B,UAAIL,UAAU,GAAG,MAAKJ,KAAL,CAAWD,YAAX,CAAwBM,MAAxB,CAA+B,UAAAC,WAAW;AAAA,eAAIA,WAAW,CAACI,IAAZ,CAAiBC,WAAjB,GAA+BC,UAA/B,CAA0CH,UAAU,CAACE,WAAX,EAA1C,CAAJ;AAAA,OAA1C,CAAjB;;AACA,UAAGP,UAAU,CAAC,CAAD,CAAb,EAAmB;AAAI;AACrB,cAAKG,QAAL,CAAc;AAAER,UAAAA,YAAY,qBAAMK,UAAN,CAAd;AAAiCH,UAAAA,QAAQ,EAAE;AAA3C,SAAd;AACD,OAFD,MAEO,IAAI,CAACG,UAAU,CAAC,CAAD,CAAX,IAAkB,CAACK,UAAvB,EAAmC;AAAI;AAC5C,cAAKF,QAAL,CAAc;AAAER,UAAAA,YAAY,qBAAM,MAAKC,KAAL,CAAWD,YAAjB,CAAd;AAA8CE,UAAAA,QAAQ,EAAE;AAAxD,SAAd;AACD,OAFM,MAEA;AAAI;AACT,cAAKM,QAAL,CAAc;AAAEN,UAAAA,QAAQ,EAAE;AAAZ,SAAd;AACD;AACF,K;;;;;;;qDAzBgCD,K,EAAO;AAAI;AAC1C;AACA,WAAKO,QAAL,CAAc;AAAER,QAAAA,YAAY,qBAAMC,KAAK,CAACD,YAAZ;AAAd,OAAd;AACD,K,CAED;;;;6BAsBS;AAEP,aACE;AAAK,QAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iCAFF,EAGE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHF,EAKE,oBAAC,MAAD;AACE,QAAA,QAAQ,EAAE,KAAKC,KAAL,CAAWa,QADvB;AAEE,QAAA,UAAU,EAAE,KAAKX,UAFnB;AAGE,QAAA,YAAY,EAAE,KAAKM,YAHrB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QALF,EAUE;AAAI,QAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAVF,EAWE,oBAAC,qBAAD;AACE,QAAA,YAAY,EAAE,KAAKV,KAAL,CAAWC,YAD3B;AAEE,QAAA,YAAY,EAAE,KAAKe,YAFrB;AAGE,QAAA,QAAQ,EAAE,KAAKhB,KAAL,CAAWG,QAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAXF,CADF;AAoBD;;;;EAxDwBP,S;;AA4D3B,eAAeG,YAAf","sourcesContent":["import React, { Component } from 'react';\nimport TopBar from '../components/TopBar.js';\nimport TransformersListItems from '../components/TransformersListItems.js';\n\nclass OverviewPage extends Component {\n\n  state = {\n    transformers: this.props.transformers,\n    notFound: false\n  }\n\n  UNSAFE_componentWillReceiveProps(props) {   // deprecated!\n    // Update state.transformers when getting updated props from Route in App.js\n    this.setState({ transformers: [...props.transformers] });\n  }\n\n  // Filter the list of transformers according to choosen faction and update state.transformers\n  filterList = (faction) => {\n    let outputList = this.props.transformers.filter(transformer => transformer.faction === faction);\n    if(outputList[0]) {\n      this.setState({ transformers: [...outputList] });\n    } else {\n      this.setState({ transformers: [...this.props.transformers] })\n    }\n  }\n\n  // Filter the list of transformers according to search term and update state.transformers\n  handleSearch = (searchTerm) => {\n    let outputList = this.props.transformers.filter(transformer => transformer.name.toLowerCase().startsWith(searchTerm.toLowerCase()));\n    if(outputList[0] ) {   // result exists\n      this.setState({ transformers: [...outputList], notFound: false });\n    } else if (!outputList[0] && !searchTerm) {   // empty search field\n      this.setState({ transformers: [...this.props.transformers], notFound: false });\n    } else {   // not found\n      this.setState({ notFound: true });\n    }\n  }\n\n  render() {\n\n    return (\n      <div className=\"container\">\n\n        <h1>Transformers Overview</h1>\n        <hr />\n\n        <TopBar\n          factions={this.props.factions}\n          filterList={this.filterList}\n          handleSearch={this.handleSearch}\n        />\n        <hr className=\"mb-0\" />\n        <TransformersListItems\n          transformers={this.state.transformers}\n          updateStatus={this.updateStatus}\n          notFound={this.state.notFound}\n        />\n\n      </div>\n    );\n  }\n\n}\n\nexport default OverviewPage;\n"]},"metadata":{},"sourceType":"module"}